

CREATE ROLE ESP_ROLE NOT IDENTIFIED;

-- System privileges granted to ESP_ROLE
GRANT CREATE PROCEDURE TO ESP_ROLE;
GRANT CREATE SESSION TO ESP_ROLE;
GRANT CREATE SYNONYM TO ESP_ROLE;
GRANT CREATE TABLE TO ESP_ROLE;
GRANT CREATE VIEW TO ESP_ROLE;
/



CREATE USER ESP
  IDENTIFIED BY Esp_123
  DEFAULT TABLESPACE USERS
  TEMPORARY TABLESPACE TEMP
  PROFILE DEFAULT
  ACCOUNT UNLOCK;
  -- 1 Role for ESP 
  GRANT ESP_ROLE TO ESP;
  ALTER USER ESP DEFAULT ROLE ALL;

-- Grantees of ESP_ROLE
GRANT ESP_ROLE TO ESP;


DROP TABLE ESP. ;
  
CREATE TABLE ESP.CAPSPLAN_DATA
(
		"ID" NUMBER(10,0),
       "SERVER" VARCHAR2(120),
       "OS" VARCHAR2(120),
       "BLADE" VARCHAR2(120),
       "APPLICATION" VARCHAR2(120),
       "COMPONENT" VARCHAR2(120),
       "ENVIRONMENT" VARCHAR2(120),
       "DATA_CENTER" VARCHAR2(120),
       "COST_CENTER" VARCHAR2(120),
       "MRC_COST_CENTER" VARCHAR2(120),
       "APP_READY" VARCHAR2(120),
       "FINAL_TIER_LEVEL" VARCHAR2(120),
       "HP_TIER_LEVEL" VARCHAR2(120),
       "PRODUCT" VARCHAR2(120),
       "MANGER" VARCHAR2(120),
       "MAINTENANCE_WINDOW" VARCHAR2(120),
       "MIDDLEWARE_UPLIFT" VARCHAR2(120),
       "ON_CALL_PAGER" VARCHAR2(120),
       "OS_VERSION" VARCHAR2(120),
       "KERNEL" VARCHAR2(120),
       "INSTALL_DATE" VARCHAR2(120),
       "DECOMMSION_DATE_AND_SR" VARCHAR2(120),
       "SOCKETS" VARCHAR2(120),
       "OS_LICENSE_REQUIRED" VARCHAR2(120),
       "VINTELA" VARCHAR2(120),
       "PULLDATE" VARCHAR2(120),
       "HW_ESOL" VARCHAR2(120),
       "OS_ESOL" VARCHAR2(120),
		"CREATED_DATE" DATE
) 
TABLESPACE USERS;




ALTER TABLE ESP.CAPSPLAN_DATA ADD PRIMARY KEY (ID);
  
-- AT This point load the .CSV provided into the tables 

  ALTER USER ESP QUOTA UNLIMITED ON USERS;

  
 
  INSERT INTO esp.CAPSPLAN_DATA VALUES ('1','rmrdbs04','Linux','BLD001','Iternal','X64','STG','CORPAA','CS0002','MC-0002','Y','2','2','OEM','vikas.motkur@aa.com','24x7','234','1231','1232','1233','1234','1235','1236','1237','VINTELLA','1235','1236','1238',TO_DATE('2018-11-21 09:26:07','YYYY-MM-DD HH24:MI:SS'));
  INSERT INTO esp.CAPSPLAN_DATA VALUES ('2','rmrdbs04','Linux','BLD001','Internal','X64','STG','CORPAA','CS0002','MC-0002','Y','2','2','OEM','vikas.motkur@aa.com','24x7','234','1231','1232','1233','1234','1235','1236','1237','VINTELLA','1235','1236','1238',TO_DATE('2018-11-22 09:26:07','YYYY-MM-DD HH24:MI:SS'));
  INSERT INTO esp.CAPSPLAN_DATA VALUES ('3','xdbs01dbadm01','Linux','BLD002','Internal','X64','STG','CORPAA','CS0001','MC-0003','Y','2','2','Exastage','vikas.motkur@aa.com','24x7','234','1231','1232','1233','1234','1235','1236','1237','VINTELLA','1235','1236','1238',TO_DATE('2018-11-22 09:26:07','YYYY-MM-DD HH24:MI:SS'));
  INSERT INTO esp.CAPSPLAN_DATA VALUES ('4','xdbs01dbadm02','Linux','BLD002','Internal','X64','STG','CORPAA','CS0001','MC-0003','Y','2','2','Exastage','vikas.motkur@aa.com','24x7','234','1231','1232','1233','1234','1235','1236','1237','VINTELLA','1235','1236','1238',TO_DATE('2018-11-23 09:26:07','YYYY-MM-DD HH24:MI:SS'));
  INSERT INTO esp.CAPSPLAN_DATA VALUES ('5','xdbs01dbadm03','Linux','BLD002','Internal','X64','STG','CORPAA','CS0001','MC-0003','Y','2','2','Exastage','vikas.motkur@aa.com','24x7','234','1231','1232','1233','1234','1235','1236','1237','VINTELLA','1235','1236','1238',TO_DATE('2018-11-24 09:26:07','YYYY-MM-DD HH24:MI:SS'));
  INSERT INTO esp.CAPSPLAN_DATA VALUES ('6','xdbs01dbadm04','Linux','BLD002','Internal','X64','STG','CORPAA','CS0001','MC-0003','Y','2','2','Exastage','vikas.motkur@aa.com','24x7','234','1231','1232','1233','1234','1235','1236','1237','VINTELLA','1235','1236','1238',TO_DATE('2018-11-25 09:26:07','YYYY-MM-DD HH24:MI:SS'));
  INSERT INTO esp.CAPSPLAN_DATA VALUES ('7','xdbp02dbadm04','Linux','BLD002','Internal','X64','PRD','CORPAA','CS0001','MC-0003','Y','4','4','ExaProd','vikas.motkur@aa.com','24x7','234','1231','1232','1233','1234','1235','1236','1237','VINTELLA','1235','1236','1238',TO_DATE('2018-11-26 09:26:07','YYYY-MM-DD HH24:MI:SS'));
  INSERT INTO esp.CAPSPLAN_DATA VALUES ('8','xdbp01dbadm04','Linux','BLD001','Internal','X64','PRD','CORPAA','CS0003','MC-0004','Y','4','4','ExaProd','vikas.motkur@aa.com','24x7','234','1231','1232','1233','1234','1235','1236','1237','VINTELLA','1235','1236','1238',TO_DATE('2018-11-27 09:26:07','YYYY-MM-DD HH24:MI:SS'));
  INSERT INTO esp.CAPSPLAN_DATA VALUES ('9','xdbp01dbadm04','Linux','BLD001','Internal','X64','PRD','CORPAA','CS0003','MC-0004','Y','4','4','ExaProd','vikas.motkur@aa.com','24x7','234','1231','1232','1233','1234','1235','1236','1237','VINTELLA','1235','1236','1238',TO_DATE('2018-11-28 09:26:07','YYYY-MM-DD HH24:MI:SS'));
  commit;